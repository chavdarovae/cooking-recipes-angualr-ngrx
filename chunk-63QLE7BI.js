import{a as F,b as q,c as M,d as U,e as A}from"./chunk-GFVM6BWV.js";import{f as h,j as T,l as $,m as E}from"./chunk-CKRMVRVY.js";import{$a as L,Aa as s,Ab as R,Db as N,Ia as S,Ja as u,L as O,La as m,Ra as v,T as f,Ua as g,X as p,Y as l,_b as C,ab as V,fa as d,la as _,o as x,ob as I,rb as y,ta as w,ua as b,ya as c,za as n}from"./chunk-N7MNUTHW.js";function J(r,o){if(r&1){let e=S();n(0,"div",1)(1,"form",2,0),u("ngSubmit",function(){p(e);let t=m();return l(t.onSubmit())}),n(3,"clt-input-field",3),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.username=t)}),s(),n(4,"clt-input-field",4),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.email=t)}),s(),n(5,"clt-input-field",5),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.password=t)}),s(),n(6,"clt-input-field",6),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.rePassword=t)}),s(),n(7,"div",7)(8,"button",8),g(9," Register "),s(),n(10,"div",9),g(11,"Already registrated? Log in "),n(12,"a",10),g(13,"here!"),s()()()()()}if(r&2){let e=v(2),i=m();d(3),c("isRequired",!0)("inpValue",i.model.username),d(),c("isRequired",!0)("inpValue",i.model.email),d(),c("isRequired",!0)("minLength",4)("maxLength",10)("inpValue",i.model.password),d(),c("isRequired",!0)("minLength",4)("maxLength",10)("inpValue",i.model.rePassword),d(2),c("disabled",e.invalid||o.isSubmitting)}}var D=class r{store=f(C);model={username:"",email:"",password:"",rePassword:""};data$=x({isSubmitting:this.store.select(T),backendErrors:this.store.select(E)});onSubmit(){if(!this.model.email||!this.model.password||!this.model.username)return;let o={username:this.model.username,email:this.model.email,password:this.model.password};this.store.dispatch(h.register({request:o}))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["rcp-register-component"]],decls:2,vars:3,consts:[["registerForm","ngForm"],[1,"container","container--centerd-vert"],[1,"form","w-500","p-50",3,"ngSubmit"],["label","username","modelName","username","inpType","text",3,"onInpChanged","isRequired","inpValue"],["label","email","modelName","email","inpType","email",3,"onInpChanged","isRequired","inpValue"],["label","password","modelName","password","inpType","password",3,"onInpChanged","isRequired","minLength","maxLength","inpValue"],["label","repeat password","modelName","rePassword","inpType","password",3,"onInpChanged","isRequired","minLength","maxLength","inpValue"],[1,"form__row"],["type","submit",1,"accent","mb-20",3,"disabled"],[1,"text-centered"],["routerLink","login"]],template:function(e,i){if(e&1&&(w(0,J,14,13,"div",1),L(1,"async")),e&2){let t;b((t=V(1,1,i.data$))?0:-1,t)}},dependencies:[y,U,M,F,q,N,R,A,I],encapsulation:2})};function K(r,o){if(r&1){let e=S();n(0,"div",1)(1,"form",2,0),u("ngSubmit",function(){p(e);let t=m();return l(t.onSubmit())}),n(3,"clt-input-field",3),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.email=t)}),s(),n(4,"clt-input-field",4),u("onInpChanged",function(t){p(e);let a=m();return l(a.model.password=t)}),s(),n(5,"div",5)(6,"button",6),g(7," Login "),s(),n(8,"div",7),g(9,"Not registered yet? Register"),n(10,"a",8),g(11," here!"),s()()()()()}if(r&2){let e=v(2),i=m();d(3),c("isRequired",!0)("inpValue",i.model.email),d(),c("minLength",4)("maxLength",10)("isRequired",!0)("inpValue",i.model.password),d(2),c("disabled",e.invalid)}}var P=class r{store=f(C);model={email:"",password:""};data$=x({isSubmitting:this.store.select(T),backendErrors:this.store.select(E),currUser:this.store.select($).pipe()}).pipe(O(o=>{o.currUser&&console.log(o.currUser)}));onSubmit(){if(!this.model.email||!this.model.password)return;let o={email:this.model.email,password:this.model.password};this.store.dispatch(h.login({request:o}))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["rcp-login"]],decls:2,vars:3,consts:[["loginForm","ngForm"],[1,"container","container--centerd-vert"],[1,"form","w-500","p-50",3,"ngSubmit"],["label","email","modelName","email","inpType","email",3,"onInpChanged","isRequired","inpValue"],["label","password","modelName","password","inpType","password",3,"onInpChanged","minLength","maxLength","isRequired","inpValue"],[1,"form__row"],["type","submit",1,"accent","mb-20",3,"disabled"],[1,"text-centered"],["routerLink","/users/register"]],template:function(e,i){if(e&1&&(w(0,K,12,7,"div",1),L(1,"async")),e&2){let t;b((t=V(1,1,i.data$))?0:-1,t)}},dependencies:[y,U,M,F,q,N,R,A,I],encapsulation:2})};var k=class r{store=f(C);ngOnInit(){this.store.dispatch(h.logout())}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["rcp-logout"]],decls:0,vars:0,template:function(e,i){},encapsulation:2})};var Ie=[{path:"register",component:D},{path:"login",component:P},{path:"logout",component:k}];export{Ie as AUTH_ROUTES};
